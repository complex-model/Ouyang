<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<script src="./incubator-echarts/dist/echarts.min.js"></script>
	<script src="./jquery-3.5.1.min.js"></script>
	<script type="text/javascript">
		var node_info, edge_info;
		function get_node(data){ 
		    console.log(data);
		    node_info = data;
		}
		function get_edge(data){
			console.log(data);
			edge_info = data;
		}
	</script>
	<script src="../data/node_info.json?cb=get_node"></script>
	<script src="../data/edge_info.json?cb=get_edge"></script>
	<title>图可视化</title>
</head>
<body>
	<div id='main' style="width: 100%;height: 100%;position: absolute;"></div>
	<script type="text/javascript">
        // 基于准备好的dom，初始化echarts实例
        var myChart = echarts.init(document.getElementById('main'));
        // myChart.showLoading();
	    var categories = [];
	    for (var i = 0; i < 14; i++) {
	        categories[i] = {
	            name: '类目' + i
	        };
	    }
	    option = {
	        // 图的标题
	        title: {
	            text: '航行网络'
	        },
	        // 提示框的配置
	        tooltip: {
	            formatter: function (x) {
	                return x.data.description;
	            }
	        },
	        // 工具箱
	        toolbox: {
	            // 显示工具箱
	            show: true,
	            feature: {
	                mark: {
	                    show: true
	                },
	                // 还原
	                restore: {
	                    show: true
	                },
	                // 保存为图片
	                saveAsImage: {
	                    show: true
	                }
	            }
	        },
	        legend: [{
	            // selectedMode: 'single',
	            data: categories.map(function (a) {
	                return a.name;
	            })
	        }],
	        series: [{
	            type: 'graph', // 类型:关系图
	            layout: 'force', //图的布局，类型为力导图
	            symbolSize: 3, // 调整节点的大小
	            roam: true, // 是否开启鼠标缩放和平移漫游。默认不开启。如果只想要开启缩放或者平移,可以设置成 'scale' 或者 'move'。设置成 true 为都开启
	            /*edgeSymbol: ['circle', 'arrow'],*/
	            /*edgeSymbolSize: [2, 10],*/
	            edgeSymbol: ['none', 'none'],
	            animation: false,  //是否开启动画
	            // edgeLabel: {
	            //     normal: {
	            //         textStyle: {
	            //             fontSize: 20
	            //         }
	            //     }
	            // },
	            // force: {
	            //     repulsion: 2500,
	            //     edgeLength: [10, 50]
	            // },
	            draggable: false,
	            lineStyle: {
	                normal: {
	                    width: 2,
	                    color: '#4b565b',
	                }
	            },
	            edgeLabel: {
	                normal: {
	                    show: true,
	                    formatter: function (x) {
	                        return x.data.name;
	                    }
	                }
	            },
	            label: {
	                normal: {
	                    show: true,
	                    textStyle: {}
	                }
	            },
	            // 数据
	            data: node_info,
	            links: edge_info,
	            categories: categories,
	        }]
	    };
	    myChart.setOption(option);
    </script>
</body>
</html>